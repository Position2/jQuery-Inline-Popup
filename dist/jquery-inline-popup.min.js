/**
* JQuery Inline Popup
* Copyright (c) 2017 Position2 Inc.
* Licensed under MIT (http://opensource.org/licenses/MIT)
* https://github.com/Position2/jQuery-Inline-Popup
*/
!function(t){var i={itemSelector:"",ipclass:"inlinepopup",ipcloseclass:"inlinepopupClose",iparrowclass:"inlinepopup_arrow",ipcontentwrapperclass:"inlinepopup_content",detailsElem:"ip-details",activeFirst:!0,scrollToViewPort:!0,arrow:!0,scrollOffset:0,closeinnerelem:"<i class='fa fa-close'></i>"};t.fn.isOnScreen=function(){var i=t(window),e={top:i.scrollTop(),left:i.scrollLeft()},s=this.offset();return e.right=e.left+i.width(),e.bottom=e.top+i.height(),s.right=s.left+this.outerWidth(),s.bottom=s.top+this.outerHeight(),!(e.right<s.left||e.left>s.right||e.bottom<s.top||e.top>s.bottom)},t.fn.inlinePopup=function(e){if(0===this.length)return this;if(this.length>1)return this.each(function(){t(this).inlinePopup(e)}),this;var s,n={},l=this,o=function(){var i=t("<div/>",{class:n.settings.ipclass}),e=t("<div/>",{class:n.settings.iparrowclass}).hide(),s=t("<div/>",{class:n.settings.ipcontentwrapperclass}),l=t("<span/>",{class:n.settings.ipcloseclass,html:n.settings.closeinnerelem});return e.add(s).add(l).appendTo(i),i},r=function(i,e,s,r){var i=i||t(l).find(n.settings.itemSelector).filter(".active"),f=e||"",r=r||"",s="boolean"!=typeof s||s,p=i.attr("data-row"),h=""!=f?f.attr("data-row"):0,d=t(l).find(n.settings.itemSelector).filter("[data-row='"+p+"']:visible");descElem=t(l).find("."+n.settings.ipclass).length<1?o().hide():t(l).find("."+n.settings.ipclass).css("height",""),dpCont=i.find("."+n.settings.detailsElem).html()||"",descElem.find("."+n.settings.ipcontentwrapperclass).html(dpCont),h!=p&&(descElem.hide(),descElem.insertAfter(d.last())),""!=dpCont.trim()?("click"==r?descElem.stop().slideDown():descElem.show().height(""),n.settings.scrollToViewPort&&s&&"resize"!=r?c(i):n.settings.scrollToViewPort&&s&&"resize"==r&&t(l).find("."+n.settings.ipcontentwrapperclass).isOnScreen()&&c(i)):descElem.hide(),n.settings.arrow&&a(i,descElem)},a=function(t,i){var e=i.find("."+n.settings.iparrowclass),s=t.position().left+(t.outerWidth()/2-e.outerWidth()/2);e.css({left:s+"px"}).show()},c=function(i,e){var s=i.offset().top-n.settings.scrollOffset,l=t("html, body"),o=Math.abs(l.scrollTop()-s);s>10&&o>10?l.stop().animate({scrollTop:s},e):"function"==typeof e&&e()},f=function(i){t(i).stop().slideUp(function(){t(this).siblings(n.settings.itemSelector).filter(".active").removeClass("active"),t(this).remove()})};this.setDataRow=function(){var i=t(l).find(n.settings.itemSelector).filter(":visible").offset().left,e=0,s=i;return t(l).find("."+n.settings.ipclass).hide(),t(l).find(n.settings.itemSelector).filter(":visible").each(function(){var i=t(this),n=i.offset().left;n<=s&&(e+=1),s=n,i.attr("data-row",e)}),l},n.settings=t.extend({},i,e),(s=t(l).find(n.settings.itemSelector)).length<=0?console.log("Selector not present"):(l.setDataRow(),s.click(function(){var i=t(this);i.hasClass("active")?f(t(l).find("."+n.settings.ipclass)):(r(i,i.siblings(n.settings.itemSelector).filter(".active"),null,"click"),i.addClass("active").siblings(n.settings.itemSelector).removeClass("active"))}),n.settings.activeFirst&&(t(l).find(n.settings.itemSelector).eq(0).addClass("active"),r(null,null,!1))),t("body").on("click","."+n.settings.ipclass+" ."+n.settings.ipcloseclass,function(i){f(t(this).parents("."+n.settings.ipclass)[0])});var p="",h=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||768>t(window).width()?"orientationchange":"resize";return t(window).on(h,function(){clearTimeout(p),p=setTimeout(function(){l.setDataRow(),t(l).find(n.settings.itemSelector).filter(".active").length>0&&r(null,null,!0,"resize")},500)}),this}}(jQuery);